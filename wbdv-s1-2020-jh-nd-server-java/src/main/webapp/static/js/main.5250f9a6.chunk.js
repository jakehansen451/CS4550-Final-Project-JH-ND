(this["webpackJsonpwbdv-s1-2020-jh-nd-client-react"]=this["webpackJsonpwbdv-s1-2020-jh-nd-client-react"]||[]).push([[0],{30:function(e,t,n){e.exports=n(49)},40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),l=n(19),c=n.n(l),o=n(12),i=n(8),u=n(9),d=n(11),m=n(10),v=n(4),p=n(2),h=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"list-group"},s.a.createElement(v.b,{className:"list-group-item",to:"/search"},"Search"),s.a.createElement(v.b,{className:"list-group-item",to:"/results"},"Results"),s.a.createElement(v.b,{className:"list-group-item",to:"/details"},"Details"),s.a.createElement(v.b,{className:"list-group-item",to:"/login"},"Login")))},E=function(e){return{type:"SELECT_TIME",time_block:e}},b=(n(40),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).admin=e.props.users.filter((function(e){return"admin"===e.role})),e.tutors=e.props.users.filter((function(e){return"tutor"===e.role})),e.students=e.props.users.filter((function(e){return"student"===e.role})),e.renderUser=function(t){var n=e.props.selected_users.includes(t);return s.a.createElement("div",{className:n?"wbdv-user-row wbdv-selected-user":"wbdv-user-row",key:t._id,onClick:function(){n?e.props.deselectUser(t):e.props.selectUser(t)}},t.lastName.concat(", ",t.firstName))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Search"),s.a.createElement("div",{className:"wbdv-three-column-container"},s.a.createElement("div",{className:"wbdv-user-column"},s.a.createElement("h4",null,"Course Administrators"),s.a.createElement("div",{className:"wbdv-scroll-column"},this.admin.map((function(t){return e.renderUser(t)})))),s.a.createElement("div",{className:"wbdv-user-column"},s.a.createElement("h4",null,"Tutors"),s.a.createElement("div",{className:"wbdv-scroll-column"},this.tutors.map((function(t){return e.renderUser(t)})))),s.a.createElement("div",{className:"wbdv-user-column"},s.a.createElement("h4",null,"Students"),s.a.createElement("div",{className:"wbdv-scroll-column"},this.students.map((function(t){return e.renderUser(t)}))))),s.a.createElement("div",{className:"wbdv-search-btn-chunk"},s.a.createElement("h4",null,0!==this.props.selected_users.length?s.a.createElement(v.b,{className:"wbdv-search-btn",to:"/results"},"Search Calendars"):"Search Calendars")))}}]),n}(s.a.Component)),f=Object(o.b)((function(e){return{users:e.users,selected_users:e.selected_users}}),(function(e){return{selectUser:function(t){return e({type:"SELECT_USER",selected_user:t})},deselectUser:function(t){return e({type:"DESELECT_USER",deselected_user:t})}}}))(b),g=n(14),w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a="".concat(e,"T").concat(t,"Z"),r=new Date(a);return r.toLocaleTimeString(n)},_=function(e,t){var n=new Date(e.concat(" ",t)),a=n.getUTCMilliseconds().toString().padStart(3,"0");return n.toUTCString().split(" ")[4].concat(".",a)},y=n(16),N=n(29),k={users:[{_id:"0",username:"hansen.j",password:"password",firstName:"Jake",lastName:"Hansen",email:"hansen.j@husky.neu.edu",phone:"503-348-4863",role:"admin",roleData:{coursesTutor:["CS2500"],officeHours:[]},events:[],sleep_times:{0:"10:00:00/22:00:00",1:"08:00:00/22:00:00",2:"08:00:00/22:00:00",3:"08:00:00/22:00:00",4:"08:00:00/22:00:00",5:"08:00:00/00:00:00",6:"10:00:00/00:00:00"}},{_id:"1",username:"damrina.n",password:"password",firstName:"Nadiia",lastName:"Damrina",email:"damrina.n@husky.neu.edu",phone:"",role:"tutor",roleData:{coursesTutor:["CS2500"],coursesEnrolled:["CS4550"],officeHours:[]},events:[],sleep_times:{}},{_id:"2",username:"annunziato.j",password:"password",firstName:"Jose",lastName:"Annunziato",email:"annunziato.j@northeastern.edu",phone:"",role:"student",roleData:{coursesEnrolled:["CS2500"]},events:[],sleep_times:{}}],selectedUsers:[],selected_time_block:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_USER":return[].concat(Object(N.a)(e),[t.selected_user]);case"DESELECT_USER":return e.filter((function(e){return e._id!==t.deselected_user._id}));default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TIME":return t.time_block===e?{}:t.time_block;default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GOOGLE_AUTH":return t.googleAuth;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return{users:e.users,selected_users:S(e.selected_users,t),selected_time_block:O(e.selected_time_block,t),googleAuth:T(e.googleAuth,t)}},C=n(21),D=Object(C.b)(j),U="https://www.googleapis.com/auth/calendar",I="5op33saotih66kdu8inudbuca4@group.calendar.google.com",L=function(e){y.a.client.init({apiKey:"AIzaSyBNECVLm6gneH9sx6OT1DZLzqsFEhuCNCA",clientId:"46098970829-859lp0f58tvg2o77h1g8iclvgpflf17v.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:U}).then((function(){(a=y.a.auth2.getAuthInstance()).currentUser.get().hasGrantedScopes(U)||A(),D.dispatch({type:"SET_GOOGLE_AUTH",googleAuth:a}),e()}))},A=function(){a.signIn()},M={handleClientLoad:function(e){y.a.load("client:auth2",(function(){return L(e)}))},signIn:A,getEventsList:function(){return y.a.client.calendar.events.list({calendarId:I,timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,orderBy:"startTime"}).then((function(e){return e.result.items}))},addEvent:function(e,t,n,a){var r={summary:a,start:{dateTime:e},end:{dateTime:t},attendees:n};y.a.client.calendar.events.insert({calendarId:I,resource:r}).then((function(e){return console.log(e.result)}))}},G=(n(42),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).createUserOption=function(e){return s.a.createElement("option",{value:e._id},"".concat(e.lastName,", ").concat(e.firstName))},e.addMeeting=function(){var t=e.props.selected_time_block.date,n=new Date(t+" "+e.props.selected_time_block.start+" UTC").toISOString(),a=new Date(t+" "+e.props.selected_time_block.end+" UTC").toISOString();M.addEvent(n,a,[],"Demo title")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){M.handleClientLoad((function(){}))}},{key:"render",value:function(){var e=this,t=this.props.selected_time_block,n=t.date,a=t.start,r=t.end,l=w(n,a,"en-GB"),c=w(n,r,"en-GB");return s.a.createElement("div",null,s.a.createElement("h1",null,"Details"),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("form",{className:"wbdv-details-form"},s.a.createElement("div",{className:"wbdv-details-form-row"},s.a.createElement("h6",null,"Date:"),s.a.createElement("input",{type:"date",value:n,onChange:function(t){return e.props.selectTime(Object(g.a)(Object(g.a)({},e.props.selected_time_block),{},{date:t.target.value}))}})),s.a.createElement("div",{className:"wbdv-details-form-row"},s.a.createElement("h6",null,"Start:"),s.a.createElement("input",{type:"time",value:l,onChange:function(t){return e.props.selectTime(Object(g.a)(Object(g.a)({},e.props.selected_time_block),{},{start:_(n,t.target.value)}))}})),s.a.createElement("div",{className:"wbdv-details-form-row"},s.a.createElement("h6",null,"End:"),s.a.createElement("input",{type:"time",value:c,onChange:function(t){return e.props.selectTime(Object(g.a)(Object(g.a)({},e.props.selected_time_block),{},{end:_(n,t.target.value)}))}})),s.a.createElement("div",{className:"wbdv-details-form-row"},s.a.createElement("h6",null,"Host:"),s.a.createElement("select",null,this.props.selected_users.map(this.createUserOption))),s.a.createElement("div",{className:"wbdv-details-form-row"},s.a.createElement("h6",null,"Type:"),s.a.createElement("select",null,s.a.createElement("option",{value:"PUBLIC"},"Public - anyone can join"),s.a.createElement("option",{value:"PRIVATE"},"Private - only invitees can join")))),s.a.createElement(v.b,{onClick:this.addMeeting,to:"/"},s.a.createElement("h4",null,"Schedule Meeting")))))}}]),n}(s.a.Component)),B=Object(o.b)((function(e){return{selected_users:e.selected_users,selected_time_block:e.selected_time_block}}),(function(e){return{selectTime:function(t){return e(E(t))}}}))(G),R=(n(43),["Sunday","Monday","Tuesday","Wedensday","Thursday","Friday","Saturday"]),x=[{date:"2020-05-29",start:"14:30:00.000",end:"15:30:00.000"},{date:"2020-05-29",start:"17:15:00.000",end:"18:15:00.000"},{date:"2020-05-30",start:"10:00:00.000",end:"12:45:00.000"},{date:"2020-05-30",start:"16:00:00.000",end:"19:00:00.000"},{date:"2020-05-31",start:"08:30:00.000",end:"18:30:00.000"}],H=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={free_time_blocks:x},e.recomposeISO=function(e,t){return"".concat(e,"T").concat(t,"Z")},e.renderFreeTimeBlock=function(t,n){var a=new Date(e.recomposeISO(t.date,t.start)),r=new Date(e.recomposeISO(t.date,t.end));return s.a.createElement("div",{className:e.props.selected_time_block===t?"wbdv-time-slot-row wbdv-selected-time":"wbdv-time-slot-row",key:n,onClick:function(){return e.props.selectTime(t)}},s.a.createElement("div",{className:"wbdv-time-slot-day"},R[a.getDay()]),s.a.createElement("div",{className:"wbdv-time-slot-start"},a.toLocaleTimeString().replace(/(?<=:.{2}):.{2}/,"")),s.a.createElement("div",{className:"wbdv-time-slot-end"},r.toLocaleTimeString().replace(/(?<=:.{2}):.{2}/,"")))},e.renderUser=function(e){return s.a.createElement("div",{className:"wbdv-user-row",key:e._id},e.lastName.concat(", ",e.firstName))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){M.handleClientLoad((function(){}))}},{key:"parse",value:function(e){var t=e.map((function(e){var t=new Date(e.start.dateTime).toISOString(),n=new Date(e.end.dateTime).toISOString();return{start:t.substring(11,23),end:n.substring(11,23),date:t.substring(0,10)}}));console.log(t)}},{key:"render",value:function(){var e,t=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"wbdv-results-page-title-bar"},s.a.createElement("h1",null,"Results")),s.a.createElement("div",{className:"wbdv-time-select-body"},s.a.createElement("div",{className:"wbdv-user-column"},s.a.createElement("h4",null,"Participants"),s.a.createElement(v.b,{to:"/search",className:"wbdv-edit-participants-button"},s.a.createElement("h6",null,"Edit Participants")),s.a.createElement("div",{className:"wbdv-scroll-column"},this.props.selected_users.map((function(e){return t.renderUser(e)})))),s.a.createElement("div",{className:"wbdv-calendar"},"Placeholder Calendar Component"),s.a.createElement("div",{className:"wbdv-time-list"},s.a.createElement("h5",null,"Choose from available times"),s.a.createElement("div",{className:"wbdv-time-slot-row"},s.a.createElement("div",{className:"wbdv-time-slot-day"},"Day"),s.a.createElement("div",{className:"wbdv-time-slot-start"},"Start"),s.a.createElement("div",{className:"wbdv-time-slot-end"},"End")),this.state.free_time_blocks.map(this.renderFreeTimeBlock),s.a.createElement("div",{className:"wbdv-select-time-btn"},(e=this.props.selected_time_block,0===Object.keys(e).length?s.a.createElement("h4",null,"Select"):s.a.createElement(v.b,{to:"/details"},s.a.createElement("h4",null,"Select")))))))}}]),n}(s.a.Component),P=Object(o.b)((function(e){return{selected_users:e.selected_users,selected_time_block:e.selected_time_block}}),(function(e){return{selectTime:function(t){return e(E(t))}}}))(H),z=(n(44),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).makeGoogleRequest=function(){M.isUserSignedIn()||M.signIn(),M.getEventsList()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){M.handleClientLoad()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"User has already given permissions to access the calendar!"),s.a.createElement("button",{className:"btn btn-primary",onClick:this.makeGoogleRequest},"Get TutorMe events"))}}]),n}(s.a.Component)),F=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return s.a.createElement(v.a,null,s.a.createElement("div",null,s.a.createElement(p.a,{path:"/",exact:!0,component:h}),s.a.createElement(p.a,{path:"/search",exact:!0,component:f}),s.a.createElement(p.a,{path:"/results",exact:!0,component:P}),s.a.createElement(p.a,{path:"/details/",exact:!0,component:B}),s.a.createElement(p.a,{path:"/login/",exact:!0,component:z})))}}]),n}(s.a.Component);n(45);var J=function(){return s.a.createElement("div",null,s.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(46),n(47),n(48);c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(o.a,{store:D},s.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.5250f9a6.chunk.js.map